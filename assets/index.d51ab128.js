import{_ as E,l as T,aq as F,aQ as j,a8 as ae,i as re,a as pe,aR as me,X as he,aS as ve,W as ge,aT as fe,aU as ye,e as I,j as z,aV as xe,aW as Se,aD as ne,aX as oe,aY as X,af as Ae,aZ as be,ai as B,a_ as q,a$ as Ie,x as _e,b0 as we,r as J,G as U,A as Y,z as Z,N as K,a4 as Me,I as Te,K as ke,J as Le,M as Ce,F as Fe,b1 as Ne,a6 as De,a0 as Re,aL as Q,b2 as Ve,V as O,o as Ee,u as ie,az as Be,H as Pe}from"./index.5524c212.js";import{L as $e,c as Ge,d as He}from"./LegendVisualProvider.3109dbf7.js";import{e as ze,j as We,k as je,l as Xe,h as qe,_ as se,r as $,o as le,c as ce,a as G,w as Je,d as Ue}from"./index.1af21936.js";import{M as Ye}from"./mock.76202bce.js";var V=fe.value;function P(a,e){return F({show:e},a)}var Ze=function(a){E(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),o=this.get("scale"),s=this.get("axisLine"),i=this.get("axisTick"),n=this.get("axisLabel"),d=this.get("axisName"),v=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),A=this.get("axisNameGap"),c=this.get("triggerEvent"),m=T(this.get("indicator")||[],function(l){l.max!=null&&l.max>0&&!l.min?l.min=0:l.min!=null&&l.min<0&&!l.max&&(l.max=0);var g=d;l.color!=null&&(g=F({color:l.color},d));var p=j(ae(l),{boundaryGap:t,splitNumber:r,scale:o,axisLine:s,axisTick:i,axisLabel:n,name:l.text,showName:v,nameLocation:"end",nameGap:A,nameTextStyle:g,triggerEvent:c},!1);if(re(h)){var f=p.name;p.name=h.replace("{value}",f!=null?f:"")}else pe(h)&&(p.name=h(p.name,p));var u=new me(p,null,this.ecModel);return he(u,ve.prototype),u.mainType="radar",u.componentIndex=this.componentIndex,u},this);this._indicatorModels=m},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:j({lineStyle:{color:"#bbb"}},V.axisLine),axisLabel:P(V.axisLabel,!1),axisTick:P(V.axisTick,!1),splitLine:P(V.splitLine,!0),splitArea:P(V.splitArea,!0),indicator:[]},e}(ge);const Ke=Ze;var Qe=["axisLine","axisTickLabel","axisName"],Oe=function(a){E(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var s=this.group;s.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var r=t.coordinateSystem,o=r.getIndicatorAxes(),s=T(o,function(i){var n=i.model.get("showName")?i.name:"",d=new ye(i.model,{axisName:n,position:[r.cx,r.cy],rotation:i.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});I(s,function(i){I(Qe,i.add,i),this.group.add(i.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,o=r.getIndicatorAxes();if(!o.length)return;var s=t.get("shape"),i=t.getModel("splitLine"),n=t.getModel("splitArea"),d=i.getModel("lineStyle"),v=n.getModel("areaStyle"),h=i.get("show"),A=n.get("show"),c=d.get("color"),m=v.get("color"),l=z(c)?c:[c],g=z(m)?m:[m],p=[],f=[];function u(M,L,D){var R=D%L.length;return M[R]=M[R]||[],R}if(s==="circle")for(var S=o[0].getTicksCoords(),C=r.cx,N=r.cy,y=0;y<S.length;y++){if(h){var w=u(p,l,y);p[w].push(new xe({shape:{cx:C,cy:N,r:S[y].coord}}))}if(A&&y<S.length-1){var w=u(f,g,y);f[w].push(new Se({shape:{cx:C,cy:N,r0:S[y].coord,r:S[y+1].coord}}))}}else for(var x,_=T(o,function(M,L){var D=M.getTicksCoords();return x=x==null?D.length-1:Math.min(D.length-1,x),T(D,function(R){return r.coordToPoint(R.coord,L)})}),k=[],y=0;y<=x;y++){for(var b=[],W=0;W<o.length;W++)b.push(_[W][y]);if(b[0]&&b.push(b[0].slice()),h){var w=u(p,l,y);p[w].push(new ne({shape:{points:b}}))}if(A&&k){var w=u(f,g,y-1);f[w].push(new oe({shape:{points:b.concat(k)}}))}k=b.slice().reverse()}var ue=d.getLineStyle(),de=v.getAreaStyle();I(f,function(M,L){this.group.add(X(M,{style:F({stroke:"none",fill:g[L%g.length]},de),silent:!0}))},this),I(p,function(M,L){this.group.add(X(M,{style:F({fill:"none",stroke:l[L%l.length]},ue),silent:!0}))},this)},e.type="radar",e}(Ae);const et=Oe;var tt=function(a){E(e,a);function e(t,r,o){var s=a.call(this,t,r,o)||this;return s.type="value",s.angle=0,s.name="",s}return e}(be);const at=tt;var rt=function(){function a(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=T(e.getIndicatorModels(),function(o,s){var i="indicator_"+s,n=new at(i,new q);return n.name=o.get("name"),n.model=o,o.axis=n,this.dimensions.push(i),n},this),this.resize(e,r)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},a.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],o=r.angle,s=this.cx+e*Math.cos(o),i=this.cy-e*Math.sin(o);return[s,i]},a.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,o=Math.sqrt(t*t+r*r);t/=o,r/=o;for(var s=Math.atan2(-r,t),i=1/0,n,d=-1,v=0;v<this._indicatorAxes.length;v++){var h=this._indicatorAxes[v],A=Math.abs(s-h.angle);A<i&&(n=h,d=v,i=A)}return[d,+(n&&n.coordToData(o))]},a.prototype.resize=function(e,t){var r=e.get("center"),o=t.getWidth(),s=t.getHeight(),i=Math.min(o,s)/2;this.cx=B(r[0],o),this.cy=B(r[1],s),this.startAngle=e.get("startAngle")*Math.PI/180;var n=e.get("radius");(re(n)||_e(n))&&(n=[0,n]),this.r0=B(n[0],i),this.r=B(n[1],i),I(this._indicatorAxes,function(d,v){d.setExtent(this.r0,this.r);var h=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),d.angle=h},this)},a.prototype.update=function(e,t){var r=this._indicatorAxes,o=this._model;I(r,function(n){n.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(n,d){if(!(n.get("coordinateSystem")!=="radar"||e.getComponent("radar",n.get("radarIndex"))!==o)){var v=n.getData();I(r,function(h){h.scale.unionExtentFromData(v,v.mapDimension(h.dim))})}},this);var s=o.get("splitNumber"),i=new q;i.setExtent(0,s),i.setInterval(1),I(r,function(n,d){Ie(n.scale,n.model,i)})},a.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},a.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},a.create=function(e,t){var r=[];return e.eachComponent("radar",function(o){var s=new a(o,e,t);r.push(s),o.coordinateSystem=s}),e.eachSeriesByType("radar",function(o){o.get("coordinateSystem")==="radar"&&(o.coordinateSystem=r[o.get("radarIndex")||0])}),r},a.dimensions=[],a}();const nt=rt;function ot(a){a.registerCoordinateSystem("radar",nt),a.registerComponentModel(Ke),a.registerComponentView(et),a.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function it(a){a.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],o=e.coordinateSystem;if(!!o){var s=o.getIndicatorAxes();I(s,function(i,n){t.each(t.mapDimension(s[n].dim),function(d,v){r[v]=r[v]||[];var h=o.dataToPoint(d,n);r[v][n]=ee(h)?h:te(o)})}),t.each(function(i){var n=we(r[i],function(d){return ee(d)})||te(o);r[i].push(n.slice()),t.setItemLayout(i,r[i])})}})}function ee(a){return!isNaN(a[0])&&!isNaN(a[1])}function te(a){return[a.cx,a.cy]}function st(a){var e=a.polar;if(e){z(e)||(e=[e]);var t=[];I(e,function(r,o){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),a.radar=a.radar||[],z(a.radar)||(a.radar=[a.radar]),a.radar.push(r)):t.push(r)}),a.polar=t}I(a.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var lt=function(a){E(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var s=t.coordinateSystem,i=this.group,n=t.getData(),d=this._data;function v(c,m){var l=c.getItemVisual(m,"symbol")||"circle";if(l!=="none"){var g=De(c.getItemVisual(m,"symbolSize")),p=Re(l,-1,-1,2,2),f=c.getItemVisual(m,"symbolRotate")||0;return p.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:f*Math.PI/180||0}),p}}function h(c,m,l,g,p,f){l.removeAll();for(var u=0;u<m.length-1;u++){var S=v(g,p);S&&(S.__dimIdx=u,c[u]?(S.setPosition(c[u]),Ne[f?"initProps":"updateProps"](S,{x:m[u][0],y:m[u][1]},t,p)):S.setPosition(m[u]),l.add(S))}}function A(c){return T(c,function(m){return[s.cx,s.cy]})}n.diff(d).add(function(c){var m=n.getItemLayout(c);if(!!m){var l=new oe,g=new ne,p={shape:{points:m}};l.shape.points=A(m),g.shape.points=A(m),J(l,p,t,c),J(g,p,t,c);var f=new U,u=new U;f.add(g),f.add(l),f.add(u),h(g.shape.points,m,u,n,c,!0),n.setItemGraphicEl(c,f)}}).update(function(c,m){var l=d.getItemGraphicEl(m),g=l.childAt(0),p=l.childAt(1),f=l.childAt(2),u={shape:{points:n.getItemLayout(c)}};!u.shape.points||(h(g.shape.points,u.shape.points,f,n,c,!1),Y(p),Y(g),Z(g,u,t),Z(p,u,t),n.setItemGraphicEl(c,l))}).remove(function(c){i.remove(d.getItemGraphicEl(c))}).execute(),n.eachItemGraphicEl(function(c,m){var l=n.getItemModel(m),g=c.childAt(0),p=c.childAt(1),f=c.childAt(2),u=n.getItemVisual(m,"style"),S=u.fill;i.add(c),g.useStyle(F(l.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),K(g,l,"lineStyle"),K(p,l,"areaStyle");var C=l.getModel("areaStyle"),N=C.isEmpty()&&C.parentModel.isEmpty();p.ignore=N,I(["emphasis","select","blur"],function(x){var _=l.getModel([x,"areaStyle"]),k=_.isEmpty()&&_.parentModel.isEmpty();p.ensureState(x).ignore=k&&N}),p.useStyle(F(C.getAreaStyle(),{fill:S,opacity:.7,decal:u.decal}));var y=l.getModel("emphasis"),w=y.getModel("itemStyle").getItemStyle();f.eachChild(function(x){if(x instanceof Me){var _=x.style;x.useStyle(Te({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},u))}else x.useStyle(u),x.setColor(S),x.style.strokeNoScale=!0;var k=x.ensureState("emphasis");k.style=ae(w);var b=n.getStore().get(n.getDimensionIndex(x.__dimIdx),m);(b==null||isNaN(b))&&(b=""),ke(x,Le(l),{labelFetcher:n.hostModel,labelDataIndex:m,labelDimIndex:x.__dimIdx,defaultText:b,inheritColor:S,defaultOpacity:u.opacity})}),Ce(c,y.get("focus"),y.get("blurScope"),y.get("disabled"))}),this._data=n},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Fe);const ct=lt;var ut=function(a){E(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new $e(Q(this.getData,this),Q(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return Ge(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,o){var s=this.getData(),i=this.coordinateSystem,n=i.getIndicatorAxes(),d=this.getData().getName(t),v=d===""?this.name:d,h=Ve(this,t);return O("section",{header:v,sortBlocks:!0,blocks:T(n,function(A){var c=s.get(s.mapDimension(A.dim),t);return O("nameValue",{markerType:"subItem",markerColor:h,name:A.name,value:c,sortParam:c})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),o=this.coordinateSystem,s=r.getValues(T(o.dimensions,function(v){return r.mapDimension(v)}),t),i=0,n=s.length;i<n;i++)if(!isNaN(s[i])){var d=o.getIndicatorAxes();return o.coordToPoint(d[i].dataToCoord(s[i]),i)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Ee);const dt=ut;function pt(a){ie(ot),a.registerChartView(ct),a.registerSeriesModel(dt),a.registerLayout(it),a.registerProcessor(He("radar")),a.registerPreprocessor(st)}ie(pt);const mt=(a,e)=>({title:{text:"\u57FA\u7840\u96F7\u8FBE\u56FE"},tooltip:{},legend:{},series:[{name:"\u9884\u7B97 vs \u5F00\u9500\uFF08Budget vs spending\uFF09",type:"radar",symbolSize:5,lineStyle:{width:2},data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"\u9884\u7B97\u5206\u914D\uFF08Allocated Budget\uFF09"},{value:[5e3,14e3,28e3,31e3,42e3,21e3],name:"\u5B9E\u9645\u5F00\u9500\uFF08Actual Spending\uFF09"},{value:[2e3,1400,2800,3100,4200,2100],name:"\u5B9E\u9645\u5F00\u9500\uFF08Actual Spending\uFF0922"}]}]}),H=ze({name:"Hradar",setup(a){const{dataSource:e,settings:t}=We(a),r=je({});return Xe([e,t],()=>{r.value=mt(e.value,t.value)}),{Options:r}},props:{...Be,dataSource:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},render(){const{dataSource:a,settings:e,...t}=this.$props;return qe(Pe,{...t,options:this.Options})}});H.install=a=>{a.component(H.name,H)};const ht=()=>Ye.mock({columns:[{title:"\u901F\u5EA6",key:"number1"},{title:"\u529B\u91CF",key:"number2"},{title:"AOE",key:"number3"},{title:"\u7834\u7532",key:"number4"},{title:"\u95EA\u907F",key:"number5"},{title:"\u5766\u5EA6",key:"number6"}],"rows|3-6":[{"number1|1000-20000":1e4,"number2|1000-20000":8e3,"number3|1000-20000":5e3,"number4|1000-20000":3e3,"number5|1000-20000":2e3,"number6|1000-20000":9e3}]}),vt=`
<template>
  <HPie :dataSource="dataSource"></HPie>
</template>
<script>
import { HPie } from '@yyr1994/h-charts'
export default {
  components: {
    HPie
  },
  data () {
    return {
      dataSource: {
        "columns": [
          {
            "title": "\u4F59\u676D\u4EBA\u6570",
            "key": "number1"
          },
          {
            "title": "\u897F\u6E56\u4EBA\u6570",
            "key": "number2"
          },
          {
            "title": "\u4E0B\u57CE\u4EBA\u6570",
            "key": "number3"
          },
          {
            "title": "\u8427\u5C71\u4EBA\u6570",
            "key": "number4"
          }
        ],
        "rows": {
          "number1": 471,
          "number2": 1179,
          "number3": 931,
          "number4": 1310
        }
      }
    }
  }
}
<\/script>
`,gt={name:"BaseRadar",components:{HRadar:H},data(){return{dataSource:ht(),codePre:vt}}},ft={class:"chart-content"},yt=Ue("h3",{class:"h3"},"\u57FA\u7840\u96F7\u8FBE\u56FE",-1);function xt(a,e,t,r,o,s){const i=$("HRadar"),n=$("Prism"),d=$("ShowMore");return le(),ce("div",ft,[yt,G(i,{dataSource:o.dataSource},null,8,["dataSource"]),G(d,null,{default:Je(()=>[G(n,{languages:"html",isLineNumber:"",code:o.codePre},null,8,["code"])]),_:1})])}const St=se(gt,[["render",xt]]),At={name:"Radar",components:{BaseRadar:St}},bt={class:"home"};function It(a,e,t,r,o,s){const i=$("BaseRadar");return le(),ce("div",bt,[G(i)])}const kt=se(At,[["render",It]]);export{kt as default};
